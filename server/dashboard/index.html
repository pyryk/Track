
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Track Dashboard</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

    <!-- Le styles -->
	<link href="css/bootstrap/bootstrap.css" rel="stylesheet">
	<style type="text/css">
		body {
			padding-top: 60px;
			padding-bottom: 40px;
		}
		.sidebar-nav {
			padding: 9px 0;
		}
	</style>
	<link href="css/bootstrap/bootstrap-responsive.css" rel="stylesheet">

	<link href="css/lib/rickshaw.css" rel="stylesheet">

	<link href="css/dashboard.css" rel="stylesheet">

	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le fav and touch icons -->
	<!--
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
    -->
</head>

<body>

<!-- ========================================= TOP NAVBAR ========================================================== -->
<div class="navbar navbar-fixed-top">
	<div class="navbar-inner">
		<div class="container">
			<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</a>
			<a class="brand" href="#">Tracktive</a>
			<div class="btn-group pull-right">
				<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
					<i class="icon-user"></i> Käyttäjätunnus
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu">
					<li><a href="#">Profiili</a></li>
					<li class="divider"></li>
					<li><a href="#">Kirjaudu ulos</a></li>
				</ul>
			</div>
			<div class="nav-collapse">
				<ul class="nav">
					<li class="active"><a href="#">Etusivu</a></li>
					<li><a href="#about">Hallitse kohteita</a></li>
					<li><a href="#contact">Yhteystiedot</a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>
</div>

<!-- ========================================= SECOND TOP NAVBAR =================================================== -->
<header class="margintop20">
    <div class="navbar">
        <div class="navbar-inner grey">
            <a class="brand span3" href="#">McDonald's</a>
            <ul class="nav">
                <li><a href="#">Grafiikka</a></li>
                <li><a href="#">Kommentit</a></li>
                <li><a href="#">Sijainti</a></li>
                <li><a href="#">Arviointi</a></li>
                <li><a href="#">Johtopäätökset</a></li>
            </ul>
        </div>
    </div>
</header>

<!-- ========================================= CONTENT ============================================================= -->
<div class="row">
    <!-- === LEFTSIDE SIDEBAR === -->
    <div id="sidebar" class="span3">
    </div>
    <!-- === RIGHTSIDE CONTENT === -->
    <div id="chart" class="span10">
        <div id="title"></div>
        <div class="row">
            <div id="chart1" class="span5"></div>
            <div id="chart2" class="span5"></div>
        </div>
    </div>
</div><!--/row-->

<hr>

<footer>
    <p>&copy; Company 2012</p>
</footer>


<!-- ========================================= TEMPLATES =========================================================== -->
<script id="sidebar-tmpl" type="text/x-handlebars-template">
    <div class="accordion" id="accordion2">
        <div class="accordion-group" style="margin-top: 1px; margin-bottom: 1px;">
            <div class="accordion-heading">
                <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapseOne"><b>Kohteet</b></a>
            </div>
            <div id="collapseOne" class="accordion-body collapse margins" style="height: 0px; margin-top: 0px; margin-bottom:0px; padding: 0;">
                <div class="accordion-inner" style="margin: 0; padding: 0;">
                    <ul class="nav" style="font-size: 90%;">
                        {{#each this.targets}}
                        <div class="accordion-heading" style="margin: 0; padding: 0;">
                            <a class="accordion-toggle" data-toggle="collapse" style="padding-top: 3px; padding-bottom: 2px;" href=#{{this._id}}>{{this.name}}</a>
                        </div>
                        <div id={{this._id}} class="accordion-body in collapse" style="height: auto; font-size: 90%;">
                            <div class="accordion-inner" style="margin-top: 0px; margin-bottom: 0px; padding-top:0px; border: none;">
                                <ul class="nav test" style="margin-top: 2px; margin-bottom: 1px;">
                                    {{#each this.questions}}
                                    <li><label class="checkbox"><input type="checkbox" class="questionCheckbox" value="{{this._id}}" data-id={{this._id}}>{{this.name}}</label></li>
                                    {{/each}}
                                </ul>
                            </div>
                        </div>
                        {{/each}}
                    </ul>
                </div>
            </div>

            <div class="accordion-heading">
                <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapseTwo"><b>Käyttäjän määrittely</b></a>
            </div>
            <div id="collapseTwo" class="accordion-body collapse" style="height: 0px; ">
                <div class="accordion-inner">
                    <ul class="nav" style="margin-bottom: 0px;">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse21">Ikä</a>
                        </div>
                        <div id="collapse21" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">0-10</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">11-20</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">21-30</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">31-40</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">41-50</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">51-60</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">61+</label></li>
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse22">Sukupuoli</a>
                        </div>
                        <div id="collapse22" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">Mies</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Nainen</label></li>
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse23">Käyttäjäprofiili</a>
                        </div>
                        <div id="collapse23" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">Ensikertalainen</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Satunnainen</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Aktiivi</label></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
            <div class="accordion-heading">
                <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapseThree"><b>Teknologia</b></a>
            </div>
            <div id="collapseThree" class="accordion-body collapse" style="height: 0px; ">
                <div class="accordion-inner">
                    <ul class="nav" style="margin-bottom: 0px;">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse31">Selain</a>
                        </div>
                        <div id="collapse31" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">Ladattu applikaatio</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Explorer</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Firefox</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Opera</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Chrome</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Safari</label></li>
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse32">Käyttöjärjestelmä</a>
                        </div>
                        <div id="collapse32" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">iPhone</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Android</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Windows</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Symbian</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">Blackberry</label></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
            <div class="accordion-heading">
                <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapseFour"><b>Liikenteen lähteet</b></a>
            </div>
            <div id="collapseFour" class="accordion-body collapse" style="height: 0px; ">
                <div class="accordion-inner">
                    <ul class="nav" style="margin-bottom: 0px;">
                        <li><label class="checkbox"><input type="checkbox" value="">Suora</label></li>
                        <li><label class="checkbox"><input type="checkbox" value="">Viittaukset</label></li>
                        <li><label class="checkbox"><input type="checkbox" value="">QR-koodi</label></li>
                        <li><label class="checkbox"><input type="checkbox" value="">NFC</label></li>
                    </ul>
                </div>
            </div>
            <div class="accordion-heading">
                <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapseFive"><b>Sisältö</b></a>
            </div>
            <div id="collapseFive" class="accordion-body collapse" style="height: 0px; ">
                <div class="accordion-inner">
                    <ul class="nav" style="margin-bottom: 0px;">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse51">Ajankäyttö</a>
                        </div>
                        <div id="collapse51" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">0-30 s</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">31-60 s</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">1-2 min</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">2-5 min</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">5+ min</label></li>
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#collapse52">Vastaaminen</a>
                        </div>
                        <div id="collapse52" class="accordion-body collapse" style="height: auto; ">
                            <div class="accordion-inner">
                                <ul class="nav" style="margin-bottom: 0px;">
                                    <li><label class="checkbox"><input type="checkbox" value="">1 vastaus</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">2-3 vastausta</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">3-6 vastausta</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">7-10 vastausta</label></li>
                                    <li><label class="checkbox"><input type="checkbox" value="">11+ vastausta</label></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="title-tmpl" type="text/x-handlebars-template">
    <h2>{{this}}</h2>
</script>

<script id="chart-tmpl" type="text/x-handlebars-template">
</script>

<script id="questionitem-tmpl" type="text/x-handlebars-template">

    <div class="span10">
        <div class="row">
            <h1>{{name}} ja jotain</h1>

        </div>
    </div><!--/span-->

</script>

<script id="test-tmpl" type="text/x-handlebars-template">

    <div class="span10">
        <div class="row">
            <h1>{{name}} ja jotain</h1>

        </div>
    </div><!--/span-->

</script>

<!-- Le javascript
	================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="js/lib/jquery.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js"></script>
<script src="js/spine/spine.js"></script>
<script src="js/spine/ajax.js"></script>

<script src="js/lib/handlebars-1.0.0.beta.6.js"></script>

<script src="js/lib/d3.min.js"></script>
<script src="js/lib/d3.layout.min.js"></script>
<script src="js/lib/rickshaw.js"></script>

<script src="js/dashboard/namespace.js"></script>

<script src="js/dashboard/models.js"></script>
<script src="js/dashboard/controllers.js"></script>
<script src="js/bootstrap/bootstrap.min.js"></script>

<!--

	<script src="js/bootstrap-alert.js"></script>
	<script src="js/bootstrap-modal.js"></script>
	<script src="js/bootstrap-dropdown.js"></script>
	<script src="js/bootstrap-scrollspy.js"></script>
	<script src="js/bootstrap-tab.js"></script>
	<script src="js/bootstrap-tooltip.js"></script>
	<script src="js/bootstrap-popover.js"></script>
	<script src="js/bootstrap-button.js"></script>
	<script src="js/bootstrap-collapse.js"></script>
	<script src="js/bootstrap-carousel.js"></script>
	<script src="js/bootstrap-typeahead.js"></script>
-->

<!-- Test rickshaw -->
<script>

new Dashboard.App();
/*
// Chart 1 ---------------------------------------------------------------------------------------------------------

// set up our data series with 50 random data points
seriesData = [ [], [] ];

// Age categories
// 0: 0-10
// 1: 10-15
// 2: 15-20
// 3: 20-25
// 4: 25-30
// 5: 30-40
// 6: 40-50
// 7: 50-60
// 8: 60-
for (var ageCategory = 0; ageCategory < 9; ageCategory++) {
	for(var gender = 0; gender < 2; gender++) {
		var votes = Math.round(Math.random() * 100);
		var pos = Math.round(Math.random() * votes);
		var neg = votes - pos;

		var ageAndGender = (ageCategory * 2) + gender;

		seriesData[0].push({x: ageAndGender, y: pos}); // pos
		seriesData[1].push({x: ageAndGender, y: neg}); // neg
	}
}

// instantiate our graph!

var graph;
graph = new Rickshaw.Graph( {
	element: document.getElementById("chart1"),
	width: 470,
	height: 300,
	renderer: 'bar',
	series: [
		{
			color: "#c05020",
			data: seriesData[0]
		}, {
			color: "#30c020",
			data: seriesData[1]
		}
	]
} );

graph.render();

// Data ---------------------------------------------------------------------------------------------------------

var votes = [];
var prevPos = Math.random(20) + 10;
var prevNeg = Math.random(20) + 10;

for (var i = 0; i < 150; i++) {
	var pos = prevPos + Math.round((Math.random() * 4) - 2);
	var neg = prevNeg + Math.round((Math.random() * 4) - 2);

	pos = pos <= 0 ? 0 : pos;
	neg = neg <= 0 ? 0 : neg;

	votes.push({pos: pos, neg: neg});

	prevPos = pos;
	prevNeg = neg;
}

// Chart 2 ---------------------------------------------------------------------------------------------------------

seriesData = [ [], [] ];

for (var i = 0; i < 150; i++) {
	seriesData[0].push({x: i, y: votes[i].pos});
	seriesData[1].push({x: i, y: votes[i].neg});
}

// instantiate our graph!

graph = new Rickshaw.Graph( {
	element: document.getElementById("chart2"),
	width: 470,
	height: 300,
	renderer: 'area',
	stroke: true,
	series: [
		{
			color: "#30c020",
			data: seriesData[0],
			name: 'Positive'
		},
		{
			color: "#c05020",
			data: seriesData[1],
			name: 'Negative'
		}
	]
} );

graph.render();

var axes = new Rickshaw.Graph.Axis.Time( {
	graph: graph
} );
axes.render();

// Chart 3 ---------------------------------------------------------------------------------------------------------

seriesData = [ [] ];

for (var i = 0; i < 150; i++) {
	var total = votes[i].pos + votes[i].neg;
	var value = total === 0 ? 0 : votes[i].pos / total;

	value = Math.round(value * 100);


	seriesData[0].push({x: i, y: value});
}

// instantiate our graph!

graph = new Rickshaw.Graph( {
	element: document.getElementById("chart3"),
	width: 470,
	height: 300,
	renderer: 'line',
	series: [
		{
			color: "#333333",
			data: seriesData[0],
			name: 'Moscow'
		}
	]
} );

var yAxis = new Rickshaw.Graph.Axis.Y({
    graph: graph
});

yAxis.render();

graph.render();

// Chart 4 ---------------------------------------------------------------------------------------------------------

seriesData = [ [], [], [] ];
random = new Rickshaw.Fixtures.RandomData(150);

for (var i = 0; i < 150; i++) {
	random.addData(seriesData);
}

// instantiate our graph!

graph = new Rickshaw.Graph( {
	element: document.getElementById("chart4"),
	width: 470,
	height: 300,
	renderer: 'line',
	series: [
		{
			color: "#c05020",
			data: seriesData[0],
			name: 'New York'
		}, {
			color: "#30c020",
			data: seriesData[1],
			name: 'London'
		}, {
			color: "#6060c0",
			data: seriesData[2],
			name: 'Tokyo'
		}
	]
} );

graph.render();

var legend = document.querySelector('#legend4');

var Hover = Rickshaw.Class.create(Rickshaw.Graph.HoverDetail, {

	render: function(args) {

		legend.innerHTML = args.formattedXValue;

		args.detail.sort(function(a, b) { return a.order - b.order }).forEach( function(d) {

			var line = document.createElement('div');
			line.className = 'line';

			var swatch = document.createElement('div');
			swatch.className = 'swatch';
			swatch.style.backgroundColor = d.series.color;

			var label = document.createElement('div');
			label.className = 'label';
			label.innerHTML = d.name + ": " + d.formattedYValue;

			line.appendChild(swatch);
			line.appendChild(label);

			legend.appendChild(line);

			var dot = document.createElement('div');
			dot.className = 'dot';
			dot.style.top = graph.y(d.value.y0 + d.value.y) + 'px';
			dot.style.backgroundColor = d.series.color;

			this.element.appendChild(dot);

			dot.className = 'dot active';

			this.show();

		}, this );
	}
});

var hover = new Hover( { graph: graph } );*/
</script>

</body>
</html>
